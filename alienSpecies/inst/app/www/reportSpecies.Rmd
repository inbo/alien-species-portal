---
title: "`r paste0(translate(data = results$translations, id = 'species_information')$title, ': ', input$species_choice)`" 
author: "`r paste0('v', packageVersion('alienSpecies'))`"
date: "`r format(Sys.Date(), '%d-%m-%Y')`"
toc-title: "r paste(translate(data = results$translations, id = 'contents')$title"
output: 
   oaStyle::pdf_report:
      logo: NULL
      bigLogoSize: 15cm
      always_allow_html: yes
      latex_engine: pdflatex 
editor_options: 
  chunk_output_type: console
---

```{r knitr, echo = FALSE, results = 'hide', warning = FALSE}
library(knitr)
knitr::opts_chunk$set(
  echo = FALSE,
  warning = FALSE, 
  message = FALSE,
  fig.align = 'center',
  fig.width = 10, 
  fig.height = 8
)

gewestNames <- sapply(input$species_gewest, function(x)
    translate(data = results$translations, id = x)$title) 
```

---
subtitle: "`r toString(gewestNames)`"
---


```{r intro, results = "asis"}
cat("*",  translate(data = results$translations, id = 'species')$title, ":", input$species_choice, "\n")
cat("*",  translate(data = results$translations, id = 'region')$title, ":", toString(gewestNames), "\n")
```



```{r sectionObservations, results = "asis"}
myTitle <- translate(results$translations, "observations")$title
cat("#", toupper(myTitle), "\n\n") 
incProgress(amount = 0.1, detail = myTitle)

childOutput <- lapply(c("observations-mapOccurrence"), function(id) 
  knitr::knit_child("plotSpecies.Rmd", quiet = TRUE, envir = environment())
)
cat(unlist(childOutput), sep = '\n')
``` 


```{r sectionIndicators, results = "asis"}
myTitle <- translate(results$translations, "indicators")$title
cat("#", toupper(myTitle), "\n\n") 
incProgress(amount = 0.1, detail = myTitle)

childOutput <- lapply(c("apply_gam"), function(id) 
  knitr::knit_child("plotSpecies.Rmd", quiet = TRUE, envir = environment())
)
cat(unlist(childOutput), sep = '\n')
``` 


```{r sectionReporting, results = "asis"}
myTitle <- translate(results$translations, "reporting")$title
cat("#", toupper(myTitle), "\n\n") 
incProgress(amount = 0.1, detail = myTitle)

``` 


```{r sectionManagement, results = "asis"}
myTitle <- translate(results$translations, "management")$title
cat("#", toupper(myTitle), "\n\n") 
incProgress(amount = 0.1, detail = myTitle)

``` 


