```{r, echo = FALSE, results = "asis"}

allParams <- c("period", "correctBias", "protectAreas", "source",
  "gender", "samplingProtocol", "lifeStage")
currentLandscape <- FALSE

tryCatch({
    
    params <- dashReport[[id]]
    currentParams <- names(params)
    
    tmpTranslation <- translate(results$translations, id)
        
    if (is.character(dashReport[[id]]$plot) && file.exists(dashReport[[id]]$plot)) {
      # expects leaflet map
      currentLandscape <- TRUE
      cat("\n\n\\blandscape\n")
    }
          
    # Title
    myTitle <- decodeText(tmpTranslation$title, 
      params = c(
        list(species = taxonName()),
        if (!is.null(params$showPeriod) && params$showPeriod) 
          list(period = params$period)
      )
    )
    cat("##", myTitle, "\n\n")
    
    # Description
    cat(tmpTranslation$description)
    
    
    # Parameters
    if (any(allParams %in% currentParams)) {
      
      cat(paste0("**", translate(results$translations, "parameters")$title, "**\n\n"))
      
      for (iParam in currentParams[currentParams %in% allParams]) {
        cat(paste0("- ", translate(results$translations, iParam)$title, ": "))
        if (is.character(params[[iParam]]))
          cat(toString(params[[iParam]]), "\n\n")
        else if (is.numeric(params[[iParam]]))
          cat(paste(params[[iParam]], collapse = " - "), "\n\n")
        else if (is.logical(params[[iParam]]))
          cat(if (params[[iParam]]) 
                translate(results$translations, "yes")$title else 
                translate(results$translations, "no")$title, "\n\n")
        
      }
    }
    
    # Plot
    if (is(params$plot, "plotly")) {
      # plotly
      plotlyReport(params$plot)
      
    } else {
      # leaflet & landscape: not working directly
      cat(knitr::knit_child("leafletLandscape.Rmd", quiet = TRUE, envir = environment()))
      cat("\n\n\\elandscape\n")
    }
    
  }, error = function(err) {
    if (currentLandscape)
    cat("\n\n\\elandscape\n")
    
    cat("No results for", 
      decodeText(translate(results$translations, id)$title, 
        params = c(
          list(species = taxonName())
        )
      ), "\n\n")
  
  })

cat("\n\\newpage")
```