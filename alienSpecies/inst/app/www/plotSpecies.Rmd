```{r, echo = FALSE, results = "asis"}

allParams <- c("period", "bias", "protected", "source")
currentLandscape <- FALSE

tryCatch({
    
    params <- dashReport[[id]]
    currentParams <- names(params)
    
    tmpTranslation <- translate(results$translations, id)
        
    if (file.exists(dashReport[[id]]$plot)) {
      # expects leaflet map
      currentLandscape <- TRUE
      cat("\n\n\\blandscape\n")
    }
          
    # Title
    myTitle <- decodeText(tmpTranslation$title, 
      params = c(
        list(species = taxonName()),
        if (!is.null(params$showPeriod) && params$showPeriod) 
          list(period = params$period)
      )
    )
    cat("##", myTitle, "\n\n")
    
    # Description
    cat(tmpTranslation$description)
    
    
    # Parameters
    if (any(allParams %in% currentParams)) {
      
      cat(paste0("**", translate(results$translations, "parameters")$title, "**\n\n"))
      if ("period" %in% currentParams)
        cat(paste0("- ", translate(results$translations, "period")$title, ":"), 
          paste(params$period, collapse = " - "), "\n\n")
      if ("bias" %in% currentParams)
        cat(paste0("- ", translate(results$translations, "correctBias")$title, ":"), 
          if (params$bias) 
              translate(results$translations, "yes")$title else 
              translate(results$translations, "no")$title, "\n\n")
      if ("protected" %in% currentParams)
        cat(paste0("- ", translate(results$translations, "protectAreas")$title, ":"), 
          if (params$protected) 
              translate(results$translations, "yes")$title else 
              translate(results$translations, "no")$title, "\n\n")
      if ("source" %in% currentParams)
        cat(paste0("- ", translate(results$translations, "source")$title, ":"), 
          toString(params$source), "\n\n")
      
      
    }
    
    # Plot
    if (is(params$plot, "plotly")) {
      # plotly
      plotlyReport(params$plot)
      
    } else {
      # leaflet & landscape: not working directly
      cat(knitr::knit_child("leafletLandscape.Rmd", quiet = TRUE, envir = environment()))
      cat("\n\n\\elandscape\n")
    }
    
  }, error = function(err) {
    if (currentLandscape)
    cat("\n\n\\elandscape\n")
    
    cat("No results for", 
      decodeText(translate(results$translations, id)$title, 
        params = c(
          list(species = taxonName())
        )
      ), "\n\n")
  
  })

cat("\n\\newpage")
```